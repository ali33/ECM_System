@{
    ViewBag.Title = "Index";
}
<!--Head-->
@section AddToHead
{
    <script type="text/javascript" src="~/Scripts/Pages/CaptureAdmin.js"></script>
    <script type="text/javascript" src="~/Scripts/Pages/CaptureAdminUser.js"></script>
    @*<script type="text/javasscript" src="~/Scripts/Pages/CaptureAdminUserGroups.js"></script>*@
    <script type="text/javascript" src="~/Scripts/Pages/CaptureAdminBatchTypes.js"></script>
    <script type="text/javascript" src="~/Scripts/Pages/CaptureAdminPermission.js"></script>   
    <script type="text/javascript" src="~/Scripts/Pages/ArchiveAdminSettings.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.form.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/Pages/OcrTemplateMenu.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/Pages/Thumb.js")"></script>
    @*<script type="text/javascript" src="@Url.Content("~/Scripts/effect.js")"></script>*@
    <link href="@Url.Content("~/Content/ECM.css")" rel="stylesheet" type="text/css" />
    @*<link href="@Url.Content("~/Content/tablesorter/style.css")" rel="stylesheet" type="text/css" />*@
    <link href="@Url.Content("~/Content/Pages/CaptureAdmin.css")" rel="stylesheet" type="text/css" />   
    <script>
    /* URL Call Batch Types Action*/
        var URL_ShowListBatchType = "@Url.Action("ShowListBatchType", "CaptureAdmin")";
        var URL_BacthTypeProperties = "@Url.Action("BatchTypeProperties", "CaptureAdmin")";
        var URL_ContentTypeProperties = "@Url.Action("ContentTypeProperties", "CaptureAdmin")";
        var URL_GetTableValue = "@Url.Action("GetTableValue", "CaptureAdmin")";
        var URL_BatchTypeIcon = "@Url.Action("UploadBatchTypeIcon", "CaptureAdmin")";
        var URL_GetPicklistValue = "@Url.Action("GetPicklistValue", "CaptureAdmin")";
        
        var URL_LoadTableConfigure = "@Url.Action("LoadTableConfigure", "CaptureAdmin")";
        var URL_EditTableConfigure = "@Url.Action("EditTableConfigure", "CaptureAdmin")";
        var URL_EditTableContentType = "@Url.Action("EditTableContentType", "CaptureAdmin")";
        var URL_SaveBatchType = "@Url.Action("SaveBatchType", "CaptureAdmin")";
        var URL_GetIcon = "@Url.Action("GetIcon", "ImageProcessing")";
        var URL_OcrConfigure = "@Url.Action("OCRConfigure", "CaptureAdmin")";
        var URL_DeleteBatchType = "@Url.Action("DeleteBatchType", "CaptureAdmin")";
        var URL_DeleteContentType = "@Url.Action("DeleteContentType", "CaptureAdmin")";

        /* END URL Call Batch Types Action*/
        var URL_ShowUser = "@Url.Action("ShowUser", "CaptureAdmin")";
        var URL_LoadUserGroups = "@Url.Action("LoadUserGroups", "CaptureAdmin")";
        var URL_DeleteUserGroup = "@Url.Action("DeleteUserGroup", "CaptureAdmin")";
        var URL_ShowUserGroupProperties = "@Url.Action("ShowUserGroupProperties", "CaptureAdmin")";
        var URL_ShowUserProperties = "@Url.Action("ShowUserProperties", "CaptureAdmin")";
        var URL_UploadProfilePic = "@Url.Action("UploadProfilePic", "CaptureAdmin")";
        var URL_GetImageFromCache = "@Url.Action("GetImageFromCacheByKey", "CaptureAdmin")";
        var URL_ShowListUserGroup = "@Url.Action("ShowListUserGroup", "CaptureAdmin")";
        var URL_SaveUserGroup = "@Url.Action("SaveUserGroup", "CaptureAdmin")";
        var URL_SearchUser = "@Url.Action("SearchUser","CaptureAdmin")";
        var URL_SaveUser = "@Url.Action("SaveUser", "CaptureAdmin")";
        var URL_DeleteUser = "@Url.Action("DeleteUser", "CaptureAdmin")";

        var URL_UserGroupIcon = "@Url.Content("~/Images/archive_admin_icon/appbar.group.minus.svg")";

        var URL_ShowPermission = "@Url.Action("ShowPermission", "CaptureAdmin")";
        var URL_ShowUserProperties = "@Url.Action("ShowUserProperties", "CaptureAdmin")";
</script>
}
<!--End Head-->

<!-- Main Body-->
<div class="body-capture-admin">
    <!-- Navigation -->
    <article id="nav-container">
        <div class="nav-title">
            <h2>Admin Menu</h2>
            <div class="bnt-nav-closable nav-container-toggler pull-right"><i class="glyphicon glyphicon-th-list"></i></div>
        </div>
        <nav>
            <div id="batch_types" class="nav-item selected">
                <i class="icon"><img src="@Url.Content("~/Images/CaptureAdmin/appbar.debug.step.into.svg")" /></i>
                <span>Batch types</span>
            </div>
            <div id="users" class="nav-item">
                <i class="icon"><img src="@Url.Content("~/Images/CaptureAdmin/appbar.user.minus.svg")" /></i>
                <span>Users</span>
            </div>
            <div id="user_groups" class="nav-item">
                <i class="icon"><img src="@Url.Content("~/Images/CaptureAdmin/appbar.group.svg")" /></i>
                <span>User Groups</span>
            </div>
            <div id="permissions" class="nav-item">
                <i class="icon"><img src="@Url.Content("~/Images/CaptureAdmin/appbar.key.svg")" /></i>
                <span>Permissions</span>
            </div>
            <div id="action_log" class="nav-item">
                <i class="icon"><img src="@Url.Content("~/Images/CaptureAdmin/appbar.key.svg")" /></i>
                <span>Action Logs</span>
            </div>
            <div id="settings" class="nav-item">
                <i class="icon"><img src="@Url.Content("~/Images/CaptureAdmin/appbar.settings.svg")" /></i>
                <span>Settings</span>
            </div>
        </nav>
    </article>
    <!-- End navigation -->

    <article id="main-container">
        <div class="between_and_right"></div>
        <!-- Left Container-->
        <div id="left-container" class="containter"></div>
        <!-- End Left Container-->
        <!-- Main Container-->
        <div id="right-container">
            <div id="panel-viewer-wrapper" class="containter">

            </div>
        </div>
        <!-- End Main Container-->
    </article>

    <!-- End Left Menu -->
    <!-- Right Container
    <div class="right_column archive_admin_container">
        <div class="between_and_right"></div>
        <div class="admin_sub_menu"></div>
        <div class="sub_properties"></div>
    </div>
    <!-- End Right Container
    </section>
    <!-- End Main Body -->
    <article id="ocr_template_panel" style="display: none;" class="container-fluid"></article>
</div>
<!-- Dialog Yes/ No when Delete Content type-->
<div id="dialog_delete_batchtype" style="display: none;">
    <p>Are you sure you want to delete selection</p>
</div>

<!-- Dialog Yes/ No when Delete Content type-->
<div id="dialog_delete_contenttype" style="display: none;">
    <p>Are you sure you want to delete selection</p>
</div>

<!-- Dialog Yes/ No when Delete User-->
<div id="dialog_delete_user" style="display: none;">
    <p>Are you sure you want to delete selection</p>
</div>
<!-- Dialog Yes/ No when Delete Getting Mapping-->
<div id="dialog_delete_mapping" style="display: none;">
    <p>Are you sure you want to delete selection</p>
</div>
<!-- Dialog Yes/ No when Delete UserGroup-->
<div id="dialog_delete_usergroup" style="display: none;">
    <p>Are you sure you want to delete selection</p>
</div>

<!-- Dialog select user group -->
<div id="dialog_user_select_group" style="display: none;">

    <fieldset>
        <legend>Search user groups</legend>
        <div class="col-md-9">
            <input type="text" id="user_name_search" class="form-control archive_input dialog_input" placeholder="Enter group name...">
        </div>
        <div class="col-md-3">
            <button type="button" id="user_search_usergroup" class="btn btn-primary pull-left">
                <span>Search</span>
                <i class="glyphicon glyphicon-search"></i>
            </button>
        </div>
    </fieldset>

    @*<fieldset class="row">
        <legend>User groups</legend>
        <div class="fieldset_data">
            <table id="user_table_user_group" class="table table-hover table-striped">
                <tr class="active">
                    <th style="width: 25px">&nbsp;</th>
                    <th><p>Group Name</p></th>
                </tr>
            </table>
        </div>
    </fieldset>*@

    <fieldset class="row">
        <legend>User groups</legend>
        <div class="fieldset_data panel panel-default">
            <div class="panel-heading">Group Name</div>
            <table id="user_table_user_group" class="dialog-table">
                <tr></tr>
            </table>
        </div>
    </fieldset>

</div>

<!-- Dialog select users  -->
<div id="dialog_usergroup_select_user" style="display: none;">

    <fieldset class="row">
        <legend>Search users</legend>
        <div class="col-md-9">
            <input type="text" id="usergroup_name_search" class="form-control archive_input dialog_input" placeholder="Enter user name...">
            </div>
        <div class="col-md-3">
            <button type="button" id="usergroup_search_user" class="btn btn-primary pull-left">
                <span>Search</span>
                <i class="glyphicon glyphicon-search"></i>
            </button>
        </div>
    </fieldset>

    <fieldset class="row">
        <legend>Users</legend>
        <div class="fieldset_data panel panel-default">
            <div class="panel-heading">User name</div>
            <table id="usergroup_table_user" class="dialog-table tablesorter">
                <tr></tr>
            </table>
        </div>
    </fieldset>

</div>
    <!-- Dialog add Content types-->
    <div id="dialog_add_Content" style="display:none;">     
        <div class="row-fluid">
            <form action="#" method="post" enctype="multipart/form-data" name="form1" id="form1">
                <fieldset>
                    <legend>General Info</legend>
                    <div class="col-md-2">
                        <div class="img-thumb">
                            <img id="content_icon" src="~/Resources/DocumentTypeIcon/appbar.page.text.png" data-keycache=" " />
                            @*<div class="change_img change_content_icon">Change icon</div>*@
                        </div>
                        <button class="btn-mini btn change_content_icon" type="button">
                            <i class="glyphicon glyphicon-picture"></i>
                            Change icon ...
                        </button>
                    </div>
                    <div class="col-md-10 form-horizontal">
                        <div class="control-group">
                            <label class="control-label" for="name">Content type name</label>
                            <div class="controls">
                                <input type="text" id="content_name" placeholder="Enter content type name..." class="form-control">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="name">Content type description</label>
                            <div class="controls">
                                <input type="text" id="content_description" class="form-control">
                            </div>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>

        <div class="row-fluid">
            <div id="panel_index_fields" class="panel panel-default">
                <div class="panel-heading">Index fields</div>
                <table id="table_content_field" class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th class="col-md-3">Name</th>
                            <th class="col-md-2">Type</th>
                            <th class="col-md-1">Required</th>
                            <th class="col-md-1">Restricted</th>
                            @*<th class="col-md-2">Has lookup</th>*@
                            <th class="col-md-3">Default value</th>
                            <th class="col-md-2">Max lenth</th>
                            <th class="hidden">PickList</th>
                            <th class="hidden">Table</th>
                        </tr>
                    </thead>
                    <tbody id="table_content_field_body"></tbody>
                </table>
            </div>
            <div class="row">
                <button type="button" id="btn_add_contentfield" class="btn-small btn-primary">
                    <span>Add</span>
                    <i class="glyphicon glyphicon-plus"></i>
                </button>
                <button type="button" id="btn_edit_contentfield" class="btn-small btn-primary">
                    <span>Edit</span>
                    <i class="glyphicon glyphicon-pencil"></i>
                </button>
                <button type="button" id="btn_delete_contentfield" class="btn-small btn-primary">
                    <span>Delete</span>
                    <i class="glyphicon glyphicon-trash"></i>
                </button>
            </div>
        </div>
    </div>
    <!-- End Dialog add Content types-->


    <!-- Dialog add Content types(Field Properties)-->
    <div id="dialog_add_content_field" style="display:none;" class="row-fluid">
    <fieldset>
        <legend>Fields</legend>
        <div class="col-md-12 form-horizontal">
            <div class="control-group">
                <label class="control-label" for="name">Field name</label>
                <div class="controls">
                    <input type="text" id="field_name" placeholder="Enter field name..." class="form-control">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="name">Data type</label>
                <div class="controls">
                    <select name="data_type" id="dataType" class="span6">
                        @foreach (Ecm.CaptureDomain.FieldDataType dataType in Enum.GetValues(typeof(Ecm.CaptureDomain.FieldDataType)))
                        {
                            <option value="@dataType.ToString()">@dataType.ToString()</option>
                        }
                    </select>
                    <button type="button" id="configure_table" style="display: none" class="btn btn-primary pull-right">
                        <i class="glyphicon glyphicon-wrench"></i>
                        <span>Configure columns</span>
                    </button>
                    <button type="button" id="configure_picklist" style="display: none" class="btn btn-primary pull-right">
                        <i class="glyphicon glyphicon-cog"></i>
                        <span>Configure picklist</span>
                    </button>
                </div>
            </div>
        </div>
    </fieldset>

    <fieldset>
        <legend>Fields configure</legend>
        <div class="col-md-12">
            <div class="col-sm-pull-10">
                <div>
                    <label class="control-label" for="name"></label>
                    <div class="checkbox">
                        <div class="span3"><input type="checkbox" id="required" value="fasle">Is required</div>
                        <div class="span9"><input type="checkbox" id="restricted" value="false" />Is restricted</div>
                    </div>
                </div>

                <div>
                    <div class="hidden archive_button dialog_button" id="configure_picklist" style="display: none">
                        <span style="width: 70px; margin-top:5px">Configure picklist</span>
                    </div>
                </div>

                <div>
                    <label class="control-label" for="name">Max length</label>
                    <input type="text" name="max_length" id="max_length" value="0" class="form-control">
                </div>

                <div>
                    <label class="control-label" for="name">Default value</label>

                    <input type="text" name="default_value" id="default_value" class="form-control">
                    <label class="checkbox current_date" style="display: none;">
                        <input type="checkbox" id="use_current_date" value="false" /> Use current date
                    </label>
                    <select id="select_true_false" class="dialog_select" style="display: none;">
                        <option value="True">True</option>
                        <option value="Fasle">Fasle</option>
                    </select>
                </div>

                <div id="valida_script" style="display: none;">
                    <label class="control-label" for="name">Validation script (With C Sharp syntax)</label>

                    <div class="input-group">
                        <input type="text" name="valida_script" id="valida_script_value" class="form-control">

                        <span class="input-group-btn">
                            <button data-toggle="popover" class="validascript btn btn-default" data-placement="left" title="How to set up the validation script">
                                <i class="glyphicon glyphicon-question-sign"></i>
                            </button>
                        </span>
                    </div><!-- /input-group -->
                </div>

                <div id="valida_pattern" style="display: none;">
                    <label class="control-label" for="name">Validation pattern (With regular expression syntax)</label>
                    <div class="input-group">
                        <input type="text" name="valida_pattern" id="valida_pattern_value" class="form-control">
                        <span class="input-group-btn">
                            <button data-toggle="popover" class="validapattern btn btn-default" data-placement="left" title="How to set up the validation script">
                                <i class="glyphicon glyphicon-question-sign"></i>
                            </button>
                        </span>
                    </div><!-- /input-group -->
                </div><br />
            </div>
        </div>
    </fieldset>
</div>
    <!-- END Dialog add Content types(Field Properties)-->


    <!-- Dialog add Content types(Field Properties)-->
    <div id="dialog_add_field" style="display:none;" class="row-fluid">
        <fieldset>
            <legend>Fields</legend>
            <div class="col-md-12 form-horizontal">
                <div class="control-group">
                    <label class="control-label" for="name">Field name</label>
                    <div class="controls">
                        <input type="text" id="index_field_name" placeholder="Enter field name..." class="form-control">
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="name">Data type</label>
                    <div class="controls">
                        <select name="index_dataType" id="index_dataType" class="">
                            @foreach (Ecm.CaptureDomain.FieldDataType dataType in Enum.GetValues(typeof(Ecm.CaptureDomain.FieldDataType)))
                            {
                                <option value="@dataType.ToString()">@dataType.ToString()</option>
                            }
                        </select>
                    </div>
                </div>
            </div>
        </fieldset>

        <fieldset>
            <legend>Fields configure</legend>
            <div class="col-md-12">
                <div class="col-sm-pull-10">
                    <div>
                        <label class="control-label" for="name">Max length</label>
                        <input type="text" name="index_max_length" id="index_max_length" value="0" class="form-control">
                    </div>

                    <div>
                        <label class="control-label" for="name">Default value</label>

                        <input type="text" name="index_default_value" id="index_default_value" class="form-control">
                        <label class="checkbox index_current_date" style="display: none;">
                            <input type="checkbox" id="index_use_current_date" value="false" /> Use current date
                        </label>
                        <select id="index_select_true_false" class="dialog_select" style="display: none;">
                            <option value="True">True</option>
                            <option value="Fasle">Fasle</option>
                        </select>
                    </div>
                </div>
            </div>
        </fieldset>
    </div>
    <!-- END Dialog add Content types(Field Properties)-->


    <!-- Dialog Configure picklist -->
        <div id="picklist_value_dialog" class="row-fluid" style="display: none;">
    <fieldset>
        <legend>Picklist value</legend>
        <textarea name="picklist_value" id="picklist_value" class="col-md-12"  cols="80" rows="10"></textarea>
    </fieldset>
</div>
     <!-- END Dialog Configurepicklist -->

    <!-- Dialog configure table -->
    <div id="dialog_table_configure" class="row-fluid" style="display: none;">
        <script>
            $(document).ready(function () {
                alert = "add table";
            });
        </script>
         <div class="table_dialog_configuration">
            <div class="add_conlumn_button">
                <button type="button" id="add_new_column" class="btn-small btn-primary">
                    <i class="glyphicon glyphicon-plus"></i>
                    <span>Click here to add a new column</span>
                </button>
            </div>
            <table id="table_configuration" class="table table-striped table-hover">
                <thead class="panel-heading">
                    <tr>
                        <th class="span1">&nbsp;</th>
                        <th class="span3">Column name</th>
                        <th class="span2">Data type</th>
                        <th class="span3">Max length</th>
                        <th class="span3">Default value</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="table_configure_row first_row">
                        <td id="first_delete_column">
                            <button type="button" id="" class="btn-delele btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete" data-placement="top" rel="tooltip">
                                <i class="glyphicon glyphicon-trash"></i>
                            </button>
                        </td>
                        <td class="table_td_name">
                            <input type="text" class="table_name_value" placeholder="New column">
                        <td class="table_td_type">
                            <select class="table_data_type">
                                <option value="String" selected>String</option>
                                <option value="Integer">Integer</option>
                                <option value="Decimal">Decimal</option>
                                <option value="Date">Date</option>
                            </select>
                        </td>
                        <td class="table_td_maxlength">
                            <input type="text" class="table_maxlength" value="0">
                        </td>
                        <td class="table_td_default_value">
                            <input type="text" class="table_default_value">
                            <label class="table_use_current_date_contain" style="display: none;">
                                <input type="checkbox" class="table_check_use_current_date" value="false" /> Use current date
                            </label>
                        </td>
                    </tr>
                </tbody>
            </table>
         </div>
    </div>
    <!-- END Dialog configure table -->

    <!-- Dialog ask question save or no when checkbox was change -->
    <div id="dialog_ask_question_permission" style="display: none;">
        <p>Do you want to save changes made to Permission?</p>
    </div>

    <!--Dialog change icon of content type-->
    <div class="row-fluid dialog_content_icon" style="display: none;">
        <div class="col-md-3 pull-left">
            <fieldset class="fieldset_batch_icon">
                <legend>Batch icon</legend>
                <img id="dialog_image_icon" src="#" data-keycache="" />
            </fieldset>
            <p>Support PNG format with size 20X20</p>
            <div class="row-fluid">
                <button id="Choosebatchicon" class="btn-mini btn" type="button">
                    <i class="glyphicon glyphicon-folder-open"></i>
                    Browse file ...
                </button>
            </div>
            <form id="user_form" method="post">
                <input type="file" name="srcPicture" id="uploadbatchicon" class="hidden" />
            </form>
        </div>

        <div class="col-md-9 pull-right">
            <fieldset>
                <legend>Choose icon</legend>
                @if (ViewData["DocumentTypeIcon"] != null)
                {
                    foreach (var imageIcon in (IEnumerable<String>)ViewData["DocumentTypeIcon"])
                    {<a class="thumbnail span2">
                        <img id="sub_image_icon" data-icon-path="@imageIcon" src="@Url.Content(imageIcon)" />
                    </a>
                    }
                }
            </fieldset>
        </div>
    </div>
    <!--End dialog change icon of content type-->




